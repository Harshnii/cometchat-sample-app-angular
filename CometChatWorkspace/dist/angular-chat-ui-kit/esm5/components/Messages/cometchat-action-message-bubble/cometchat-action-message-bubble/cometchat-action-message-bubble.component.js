/**
 * @fileoverview added by tsickle
 * Generated from: components/Messages/cometchat-action-message-bubble/cometchat-action-message-bubble/cometchat-action-message-bubble.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input } from "@angular/core";
import { CometChat } from "@cometchat-pro/chat";
import { STRING_MESSAGES } from "../../../utils/messageConstants";
var CometchatActionMessageBubbleComponent = /** @class */ (function () {
    function CometchatActionMessageBubbleComponent() {
        this.MessageDetails = null;
    }
    /**
     * @return {?}
     */
    CometchatActionMessageBubbleComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.getMessage();
    };
    /**
     * @return {?}
     */
    CometchatActionMessageBubbleComponent.prototype.getMessage = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var call = this.MessageDetails;
        switch (call.status) {
            case CometChat.CALL_STATUS.INITIATED: {
                this.message = STRING_MESSAGES.CALL_INITIATED;
                if (call.type === "audio") {
                    if (call.receiverType === "user") {
                        this.message =
                            call.callInitiator.uid === this.loggedInUserUid
                                ? STRING_MESSAGES.OUTGOING_AUDIO_CALL
                                : STRING_MESSAGES.INCOMING_AUDIO_CALL;
                    }
                    else if (call.receiverType === "group") {
                        if (call.action === CometChat.CALL_STATUS.INITIATED) {
                            this.message =
                                call.callInitiator.uid === this.loggedInUserUid
                                    ? STRING_MESSAGES.OUTGOING_AUDIO_CALL
                                    : STRING_MESSAGES.INCOMING_AUDIO_CALL;
                        }
                        else if (call.action === CometChat.CALL_STATUS.REJECTED) {
                            this.message =
                                call.sender.uid === this.loggedInUserUid
                                    ? STRING_MESSAGES.CALL_REJECTED
                                    : call.sender.name + " " + STRING_MESSAGES.REJECTED_CALL;
                        }
                    }
                }
                else if (call.type === "video") {
                    if (call.receiverType === "user") {
                        this.message =
                            call.callInitiator.uid === this.loggedInUserUid
                                ? STRING_MESSAGES.OUTGOING_VIDEO_CALL
                                : STRING_MESSAGES.INCOMING_VIDEO_CALL;
                    }
                    else if (call.receiverType === "group") {
                        if (call.action === CometChat.CALL_STATUS.INITIATED) {
                            this.message =
                                call.callInitiator.uid === this.loggedInUserUid
                                    ? STRING_MESSAGES.OUTGOING_VIDEO_CALL
                                    : STRING_MESSAGES.INCOMING_VIDEO_CALL;
                        }
                        else if (call.action === CometChat.CALL_STATUS.REJECTED) {
                            this.message =
                                call.sender.uid === this.loggedInUserUid
                                    ? STRING_MESSAGES.CALL_REJECTED
                                    : call.sender.name + " " + STRING_MESSAGES.REJECTED_CALL;
                        }
                    }
                }
                break;
            }
            case CometChat.CALL_STATUS.ONGOING: {
                if (call.receiverType === "user") {
                    this.message = STRING_MESSAGES.CALL_ACCEPTED;
                }
                else if (call.receiverType === "group") {
                    if (call.action === CometChat.CALL_STATUS.ONGOING) {
                        this.message =
                            call.sender.uid === this.loggedInUserUid
                                ? STRING_MESSAGES.CALL_ACCEPTED
                                : call.sender.name + " " + STRING_MESSAGES.JOINED;
                    }
                    else if (call.action === CometChat.CALL_STATUS.REJECTED) {
                        this.message =
                            call.sender.uid === this.loggedInUserUid
                                ? STRING_MESSAGES.CALL_REJECTED
                                : call.sender.name + " " + STRING_MESSAGES.REJECTED_CALL;
                    }
                    else if (call.action === "left") {
                        this.message =
                            call.sender.uid === this.loggedInUserUid
                                ? "You " + STRING_MESSAGES.LEFT_THE_CALL
                                : call.sender.name + " " + STRING_MESSAGES.LEFT_THE_CALL;
                    }
                }
                break;
            }
            case CometChat.CALL_STATUS.UNANSWERED: {
                this.message = "Call unanswered";
                if (call.type === "audio" &&
                    (call.receiverType === "user" || call.receiverType === "group")) {
                    this.message =
                        call.callInitiator.uid === this.loggedInUserUid
                            ? STRING_MESSAGES.UNANSWERED_AUDIO_CALL
                            : "Missed audio call";
                }
                else if (call.type === "video" &&
                    (call.receiverType === "user" || call.receiverType === "group")) {
                    this.message =
                        call.callInitiator.uid === this.loggedInUserUid
                            ? STRING_MESSAGES.UNANSWERED_VIDEO_CALL
                            : "Missed video call";
                }
                break;
            }
            case CometChat.CALL_STATUS.REJECTED: {
                this.message = STRING_MESSAGES.CALL_REJECTED;
                break;
            }
            case CometChat.CALL_STATUS.ENDED:
                this.message = STRING_MESSAGES.CALL_ENDED;
                break;
            case CometChat.CALL_STATUS.CANCELLED:
                this.message = STRING_MESSAGES.CALL_CANCELLED;
                break;
            case CometChat.CALL_STATUS.BUSY:
                this.message = STRING_MESSAGES.CALL_BUSY;
                break;
            default:
                break;
        }
    };
    CometchatActionMessageBubbleComponent.decorators = [
        { type: Component, args: [{
                    selector: "cometchat-action-message-bubble",
                    template: "<div class=\"callMessageStyle\">\n  <p class=\"callMessageTxtStyle\">\n    {{ message }}\n  </p>\n</div>\n",
                    styles: [".callMessageStyle{padding:8px 12px;margin-bottom:16px;text-align:center}.callMessageTxtStyle{font-size:13px;font-weight:500;margin:0}"]
                }] }
    ];
    /** @nocollapse */
    CometchatActionMessageBubbleComponent.ctorParameters = function () { return []; };
    CometchatActionMessageBubbleComponent.propDecorators = {
        MessageDetails: [{ type: Input }],
        loggedInUserUid: [{ type: Input }]
    };
    return CometchatActionMessageBubbleComponent;
}());
export { CometchatActionMessageBubbleComponent };
if (false) {
    /** @type {?} */
    CometchatActionMessageBubbleComponent.prototype.MessageDetails;
    /** @type {?} */
    CometchatActionMessageBubbleComponent.prototype.loggedInUserUid;
    /** @type {?} */
    CometchatActionMessageBubbleComponent.prototype.message;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tZXRjaGF0LWFjdGlvbi1tZXNzYWdlLWJ1YmJsZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9hbmd1bGFyLWNoYXQtdWkta2l0LyIsInNvdXJjZXMiOlsiY29tcG9uZW50cy9NZXNzYWdlcy9jb21ldGNoYXQtYWN0aW9uLW1lc3NhZ2UtYnViYmxlL2NvbWV0Y2hhdC1hY3Rpb24tbWVzc2FnZS1idWJibGUvY29tZXRjaGF0LWFjdGlvbi1tZXNzYWdlLWJ1YmJsZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUN6RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDaEQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGlDQUFpQyxDQUFDO0FBRWxFO0lBU0U7UUFIUyxtQkFBYyxHQUFHLElBQUksQ0FBQztJQUdoQixDQUFDOzs7O0lBRWhCLHdEQUFROzs7SUFBUjtRQUNFLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUNwQixDQUFDOzs7O0lBRUQsMERBQVU7OztJQUFWOztZQUNRLElBQUksR0FBRyxJQUFJLENBQUMsY0FBYztRQUNoQyxRQUFRLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDbkIsS0FBSyxTQUFTLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUNwQyxJQUFJLENBQUMsT0FBTyxHQUFHLGVBQWUsQ0FBQyxjQUFjLENBQUM7Z0JBQzlDLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxPQUFPLEVBQUU7b0JBQ3pCLElBQUksSUFBSSxDQUFDLFlBQVksS0FBSyxNQUFNLEVBQUU7d0JBQ2hDLElBQUksQ0FBQyxPQUFPOzRCQUNWLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxLQUFLLElBQUksQ0FBQyxlQUFlO2dDQUM3QyxDQUFDLENBQUMsZUFBZSxDQUFDLG1CQUFtQjtnQ0FDckMs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RDtvQkFDQSxJQUFJLENBQUMsT0FBTzt3QkFDVixJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsS0FBSyxJQUFJLENBQUMsZUFBZTs0QkFDN0MsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxxQkFBcUI7NEJBQ3ZDLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQztpQkFDM0I7Z0JBQ0QsTUFBTTthQUNQO1lBQ0QsS0FBSyxTQUFTLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUNuQyxJQUFJLENBQUMsT0FBTyxHQUFHLGVBQWUsQ0FBQyxhQUFhLENBQUM7Z0JBQzdDLE1BQU07YUFDUDtZQUNELEtBQUssU0FBUyxDQUFDLFdBQVcsQ0FBQyxLQUFLO2dCQUM5QixJQUFJLENBQUMsT0FBTyxHQUFHLGVBQWUsQ0FBQyxVQUFVLENBQUM7Z0JBQzFDLE1BQU07WUFDUixLQUFLLFNBQVMsQ0FBQyxXQUFXLENBQUMsU0FBUztnQkFDbEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxlQUFlLENBQUMsY0FBYyxDQUFDO2dCQUM5QyxNQUFNO1lBQ1IsS0FBSyxTQUFTLENBQUMsV0FBVyxDQUFDLElBQUk7Z0JBQzdCLElBQUksQ0FBQyxPQUFPLEdBQUcsZUFBZSxDQUFDLFNBQVMsQ0FBQztnQkFDekMsTUFBTTtZQUNSO2dCQUNFLE1BQU07U0FDVDtJQUNILENBQUM7O2dCQTFIRixTQUFTLFNBQUM7b0JBQ1QsUUFBUSxFQUFFLGlDQUFpQztvQkFDM0Msc0hBQStEOztpQkFFaEU7Ozs7O2lDQUVFLEtBQUs7a0NBQ0wsS0FBSzs7SUFvSFIsNENBQUM7Q0FBQSxBQTNIRCxJQTJIQztTQXRIWSxxQ0FBcUM7OztJQUNoRCwrREFBK0I7O0lBQy9CLGdFQUF5Qjs7SUFDekIsd0RBQVEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPbkluaXQgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0IHsgQ29tZXRDaGF0IH0gZnJvbSBcIkBjb21ldGNoYXQtcHJvL2NoYXRcIjtcbmltcG9ydCB7IFNUUklOR19NRVNTQUdFUyB9IGZyb20gXCIuLi8uLi8uLi91dGlscy9tZXNzYWdlQ29uc3RhbnRzXCI7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogXCJjb21ldGNoYXQtYWN0aW9uLW1lc3NhZ2UtYnViYmxlXCIsXG4gIHRlbXBsYXRlVXJsOiBcIi4vY29tZXRjaGF0LWFjdGlvbi1tZXNzYWdlLWJ1YmJsZS5jb21wb25lbnQuaHRtbFwiLFxuICBzdHlsZVVybHM6IFtcIi4vY29tZXRjaGF0LWFjdGlvbi1tZXNzYWdlLWJ1YmJsZS5jb21wb25lbnQuY3NzXCJdLFxufSlcbmV4cG9ydCBjbGFzcyBDb21ldGNoYXRBY3Rpb25NZXNzYWdlQnViYmxlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KCkgTWVzc2FnZURldGFpbHMgPSBudWxsO1xuICBASW5wdXQoKSBsb2dnZWRJblVzZXJVaWQ7XG4gIG1lc3NhZ2U7XG4gIGNvbnN0cnVjdG9yKCkge31cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLmdldE1lc3NhZ2UoKTtcbiAgfVxuXG4gIGdldE1lc3NhZ2UoKSB7XG4gICAgY29uc3QgY2FsbCA9IHRoaXMuTWVzc2FnZURldGFpbHM7XG4gICAgc3dpdGNoIChjYWxsLnN0YXR1cykge1xuICAgICAgY2FzZSBDb21ldENoYXQuQ0FMTF9TVEFUVVMuSU5JVElBVEVEOiB7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IFNUUklOR19NRVNTQUdFUy5DQUxMX0lOSVRJQVRFRDtcbiAgICAgICAgaWYgKGNhbGwudHlwZSA9PT0gXCJhdWRpb1wiKSB7XG4gICAgICAgICAgaWYgKGNhbGwucmVjZWl2ZXJUeXBlID09PSBcInVzZXJcIikge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID1cbiAgICAgICAgICAgICAgY2FsbC5jYWxsSW5pdGlhdG9yLnVpZCA9PT0gdGhpcy5sb2dnZWRJblVzZXJVaWRcbiAgICAgICAgICAgICAgICA/IFNUUklOR19NRVNTQUdFUy5PVVRHT0lOR19BVURJT19DQUxMXG4gICAgICAgICAgICAgICAgOiBTVFJJTkdfTUVTU0FHRVMuSU5DT01JTkdfQVVESU9fQ0FMTDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNhbGwucmVjZWl2ZXJUeXBlID09PSBcImdyb3VwXCIpIHtcbiAgICAgICAgICAgIGlmIChjYWxsLmFjdGlvbiA9PT0gQ29tZXRDaGF0LkNBTExfU1RBVFVTLklOSVRJQVRFRCkge1xuICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgIGNhbGwuY2FsbEluaXRpYXRvci51aWQgPT09IHRoaXMubG9nZ2VkSW5Vc2VyVWlkXG4gICAgICAgICAgICAgICAgICA/IFNUUklOR19NRVNTQUdFUy5PVVRHT0lOR19BVURJT19DQUxMXG4gICAgICAgICAgICAgICAgICA6IFNUUklOR19NRVNTQUdFUy5JTkNPTUlOR19BVURJT19DQUxMO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjYWxsLmFjdGlvbiA9PT0gQ29tZXRDaGF0LkNBTExfU1RBVFVTLlJFSkVDVEVEKSB7XG4gICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgY2FsbC5zZW5kZXIudWlkID09PSB0aGlzLmxvZ2dlZEluVXNlclVpZFxuICAgICAgICAgICAgICAgICAgPyBTVFJJTkdfTUVTU0FHRVMuQ0FMTF9SRUpFQ1RFRFxuICAgICAgICAgICAgICAgICAgOiBgJHtjYWxsLnNlbmRlci5uYW1lfSBgICsgU1RSSU5HX01FU1NBR0VTLlJFSkVDVEVEX0NBTEw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNhbGwudHlwZSA9PT0gXCJ2aWRlb1wiKSB7XG4gICAgICAgICAgaWYgKGNhbGwucmVjZWl2ZXJUeXBlID09PSBcInVzZXJcIikge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID1cbiAgICAgICAgICAgICAgY2FsbC5jYWxsSW5pdGlhdG9yLnVpZCA9PT0gdGhpcy5sb2dnZWRJblVzZXJVaWRcbiAgICAgICAgICAgICAgICA/IFNUUklOR19NRVNTQUdFUy5PVVRHT0lOR19WSURFT19DQUxMXG4gICAgICAgICAgICAgICAgOiBTVFJJTkdfTUVTU0FHRVMuSU5DT01JTkdfVklERU9fQ0FMTDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNhbGwucmVjZWl2ZXJUeXBlID09PSBcImdyb3VwXCIpIHtcbiAgICAgICAgICAgIGlmIChjYWxsLmFjdGlvbiA9PT0gQ29tZXRDaGF0LkNBTExfU1RBVFVTLklOSVRJQVRFRCkge1xuICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgIGNhbGwuY2FsbEluaXRpYXRvci51aWQgPT09IHRoaXMubG9nZ2VkSW5Vc2VyVWlkXG4gICAgICAgICAgICAgICAgICA/IFNUUklOR19NRVNTQUdFUy5PVVRHT0lOR19WSURFT19DQUxMXG4gICAgICAgICAgICAgICAgICA6IFNUUklOR19NRVNTQUdFUy5JTkNPTUlOR19WSURFT19DQUxMO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjYWxsLmFjdGlvbiA9PT0gQ29tZXRDaGF0LkNBTExfU1RBVFVTLlJFSkVDVEVEKSB7XG4gICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgY2FsbC5zZW5kZXIudWlkID09PSB0aGlzLmxvZ2dlZEluVXNlclVpZFxuICAgICAgICAgICAgICAgICAgPyBTVFJJTkdfTUVTU0FHRVMuQ0FMTF9SRUpFQ1RFRFxuICAgICAgICAgICAgICAgICAgOiBgJHtjYWxsLnNlbmRlci5uYW1lfSBgICsgU1RSSU5HX01FU1NBR0VTLlJFSkVDVEVEX0NBTEw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBDb21ldENoYXQuQ0FMTF9TVEFUVVMuT05HT0lORzoge1xuICAgICAgICBpZiAoY2FsbC5yZWNlaXZlclR5cGUgPT09IFwidXNlclwiKSB7XG4gICAgICAgICAgdGhpcy5tZXNzYWdlID0gU1RSSU5HX01FU1NBR0VTLkNBTExfQUNDRVBURUQ7XG4gICAgICAgIH0gZWxzZSBpZiAoY2FsbC5yZWNlaXZlclR5cGUgPT09IFwiZ3JvdXBcIikge1xuICAgICAgICAgIGlmIChjYWxsLmFjdGlvbiA9PT0gQ29tZXRDaGF0LkNBTExfU1RBVFVTLk9OR09JTkcpIHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9XG4gICAgICAgICAgICAgIGNhbGwuc2VuZGVyLnVpZCA9PT0gdGhpcy5sb2dnZWRJblVzZXJVaWRcbiAgICAgICAgICAgICAgICA/IFNUUklOR19NRVNTQUdFUy5DQUxMX0FDQ0VQVEVEXG4gICAgICAgICAgICAgICAgOiBgJHtjYWxsLnNlbmRlci5uYW1lfSBgICsgU1RSSU5HX01FU1NBR0VTLkpPSU5FRDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNhbGwuYWN0aW9uID09PSBDb21ldENoYXQuQ0FMTF9TVEFUVVMuUkVKRUNURUQpIHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9XG4gICAgICAgICAgICAgIGNhbGwuc2VuZGVyLnVpZCA9PT0gdGhpcy5sb2dnZWRJblVzZXJVaWRcbiAgICAgICAgICAgICAgICA/IFNUUklOR19NRVNTQUdFUy5DQUxMX1JFSkVDVEVEXG4gICAgICAgICAgICAgICAgOiBgJHtjYWxsLnNlbmRlci5uYW1lfSBgICsgU1RSSU5HX01FU1NBR0VTLlJFSkVDVEVEX0NBTEw7XG4gICAgICAgICAgfSBlbHNlIGlmIChjYWxsLmFjdGlvbiA9PT0gXCJsZWZ0XCIpIHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9XG4gICAgICAgICAgICAgIGNhbGwuc2VuZGVyLnVpZCA9PT0gdGhpcy5sb2dnZWRJblVzZXJVaWRcbiAgICAgICAgICAgICAgICA/IFwiWW91IFwiICsgU1RSSU5HX01FU1NBR0VTLkxFRlRfVEhFX0NBTExcbiAgICAgICAgICAgICAgICA6IGAke2NhbGwuc2VuZGVyLm5hbWV9IGAgKyBTVFJJTkdfTUVTU0FHRVMuTEVGVF9USEVfQ0FMTDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgQ29tZXRDaGF0LkNBTExfU1RBVFVTLlVOQU5TV0VSRUQ6IHtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gXCJDYWxsIHVuYW5zd2VyZWRcIjtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNhbGwudHlwZSA9PT0gXCJhdWRpb1wiICYmXG4gICAgICAgICAgKGNhbGwucmVjZWl2ZXJUeXBlID09PSBcInVzZXJcIiB8fCBjYWxsLnJlY2VpdmVyVHlwZSA9PT0gXCJncm91cFwiKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLm1lc3NhZ2UgPVxuICAgICAgICAgICAgY2FsbC5jYWxsSW5pdGlhdG9yLnVpZCA9PT0gdGhpcy5sb2dnZWRJblVzZXJVaWRcbiAgICAgICAgICAgICAgPyBTVFJJTkdfTUVTU0FHRVMuVU5BTlNXRVJFRF9BVURJT19DQUxMXG4gICAgICAgICAgICAgIDogXCJNaXNzZWQgYXVkaW8gY2FsbFwiO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIGNhbGwudHlwZSA9PT0gXCJ2aWRlb1wiICYmXG4gICAgICAgICAgKGNhbGwucmVjZWl2ZXJUeXBlID09PSBcInVzZXJcIiB8fCBjYWxsLnJlY2VpdmVyVHlwZSA9PT0gXCJncm91cFwiKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLm1lc3NhZ2UgPVxuICAgICAgICAgICAgY2FsbC5jYWxsSW5pdGlhdG9yLnVpZCA9PT0gdGhpcy5sb2dnZWRJblVzZXJVaWRcbiAgICAgICAgICAgICAgPyBTVFJJTkdfTUVTU0FHRVMuVU5BTlNXRVJFRF9WSURFT19DQUxMXG4gICAgICAgICAgICAgIDogXCJNaXNzZWQgdmlkZW8gY2FsbFwiO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBDb21ldENoYXQuQ0FMTF9TVEFUVVMuUkVKRUNURUQ6IHtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gU1RSSU5HX01FU1NBR0VTLkNBTExfUkVKRUNURUQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBDb21ldENoYXQuQ0FMTF9TVEFUVVMuRU5ERUQ6XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IFNUUklOR19NRVNTQUdFUy5DQUxMX0VOREVEO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29tZXRDaGF0LkNBTExfU1RBVFVTLkNBTkNFTExFRDpcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gU1RSSU5HX01FU1NBR0VTLkNBTExfQ0FOQ0VMTEVEO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29tZXRDaGF0LkNBTExfU1RBVFVTLkJVU1k6XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IFNUUklOR19NRVNTQUdFUy5DQUxMX0JVU1k7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG4iXX0=