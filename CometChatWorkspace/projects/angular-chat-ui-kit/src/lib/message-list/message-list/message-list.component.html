<div class="chatListStyle">
  <!--Message Container-->
  <div class="listWrapperStyle">
    <!--message-->
    <div *ngFor="let msg of messages">
      <!-- CASE FOR DELETED MESSAGES -->
      <div *ngIf="msg?.deletedAt; else elseBlock">
        <deleted-message-bubble
          [MessageDetails]="msg"
          [loggedInUser]="loggedInUser"
        ></deleted-message-bubble>
      </div>
      <!-- CASE FOR DELETED MESSAGES ENDS -->
      <ng-template #elseBlock>
        <!-- NgSwitchCase for different Types Of Bubble -->
        <div [ngSwitch]="msg.type">
          <!-- CASE FOR TEXT -->
          <div *ngSwitchCase="'text'">
            <comet-chat-receiver-message-bubble
              *ngIf="msg.sender.uid !== loggedInUser.uid"
              [item]="item"
              [type]="type"
              [MessageDetails]="msg"
              (actionGenerated)="actionHandler($event)"
            ></comet-chat-receiver-message-bubble>
            <comet-chat-sender-message-bubble
              *ngIf="msg.sender.uid === loggedInUser.uid"
              [MessageDetails]="msg"
              (actionGenerated)="actionHandler($event)"
            ></comet-chat-sender-message-bubble>
          </div>
          <!--CASE FOR TEXT ENDS -->
          <!--CASE FOR FILE-->
          <div *ngSwitchCase="'file'">
            <sender-file-bubble
              *ngIf="msg.sender.uid === loggedInUser.uid"
              [MessageDetails]="msg"
              (actionGenerated)="actionHandler($event)"
            ></sender-file-bubble>
            <receiver-file-bubble
              *ngIf="msg.sender.uid !== loggedInUser.uid"
              [MessageDetails]="msg"
              (actionGenerated)="actionHandler($event)"
            ></receiver-file-bubble>
          </div>
          <!--CASE FOR FILE ENDS-->
          <!--CASE FOR IMAGE -->
          <div *ngSwitchCase="'image'">
            <sender-image-bubble
              *ngIf="msg.sender.uid === loggedInUser.uid"
              [MessageDetails]="msg"
              (actionGenerated)="actionHandler($event)"
            ></sender-image-bubble>
            <receiver-image-bubble
              *ngIf="msg.sender.uid !== loggedInUser.uid"
              [MessageDetails]="msg"
              (actionGenerated)="actionHandler($event)"
            >
            </receiver-image-bubble>
          </div>
          <!--CASE FOR IMAGE  ENDS-->
          <!--CASE FOR VIDEO -->
          <div *ngSwitchCase="'video'">
            <sender-video-bubble
              *ngIf="msg.sender.uid === loggedInUser.uid"
              [MessageDetails]="msg"
              (actionGenerated)="actionHandler($event)"
            >
            </sender-video-bubble>
            <receiver-video-bubble
              *ngIf="msg.sender.uid !== loggedInUser.uid"
              [MessageDetails]="msg"
              (actionGenerated)="actionHandler($event)"
            >
            </receiver-video-bubble>
          </div>
          <!--CASE FOR VIDEO ENDS -->

          <!--CASE FOR AUDIO -->
          <div *ngSwitchCase="'audio'">
            <sender-audio-bubble
              *ngIf="msg.sender.uid === loggedInUser.uid"
              [MessageDetails]="msg"
              (actionGenerated)="actionHandler($event)"
            >
            </sender-audio-bubble>
            <receiver-audio-bubble
              *ngIf="msg.sender.uid !== loggedInUser.uid"
              [MessageDetails]="msg"
              (actionGenerated)="actionHandler($event)"
            >
            </receiver-audio-bubble>
          </div>
          <!--CASE FOR AUDIO ENDS -->

          <!--CASE FOR Action Messages -->
          <div *ngSwitchCase="'groupMember'">
            <div class="actionMessageStyle">
              <p class="actionMessageTxtStyle">{{ msg?.message }}</p>
            </div>
          </div>
          <!--CASE FOR Action Messages -->
          <!--CASE FOR STICKER -->
          <div *ngSwitchCase="'extension_sticker'">
            <sender-sticker-bubble
              *ngIf="msg.sender.uid === loggedInUser.uid"
              [MessageDetails]="msg"
              (actionGenerated)="actionHandler($event)"
            >
            </sender-sticker-bubble>
            <receiver-sticker-bubble
              *ngIf="msg.sender.uid !== loggedInUser.uid"
              [MessageDetails]="msg"
              (actionGenerated)="actionHandler($event)"
            >
            </receiver-sticker-bubble>
          </div>
          <!--CASE FOR STICKER ENDS -->

          <!--CASE FOR POLLS -->
          <div *ngSwitchCase="'extension_poll'">
            <sender-poll-bubble
              *ngIf="msg.sender.uid === loggedInUser.uid"
              [MessageDetails]="msg"
              (actionGenerated)="actionHandler($event)"
            >
            </sender-poll-bubble>
            <receiver-poll-bubble
              *ngIf="msg.sender.uid !== loggedInUser.uid"
              [loggedInUserUid]="loggedInUser.uid"
              [MessageDetails]="msg"
              (actionGenerated)="actionHandler($event)"
            >
            </receiver-poll-bubble>
          </div>
          <!--CASE FOR  POLLS -->
        </div>
      </ng-template>
    </div>
  </div>
</div>
