<div class="messageContainerStyle" *ngIf="isPollExtensionEnabled">
  <cometchat-tool-tip
    class="tool"
    [ngClass]="{
      toolGroup: MessageDetails?.receiverType == 'group'
    }"
    [MessageDetails]="MessageDetails"
    (actionGenerated)="actionHandler($event)"
    *ngIf="showToolTip"
  ></cometchat-tool-tip>
  <div class="messageWrapperStyle">
    <!-- Avatar for group -->
    <div
      class="messageThumbnailStyle"
      *ngIf="MessageDetails?.receiverType == 'group'"
    >
      <cometchat-avatar
        [item]="MessageDetails?.sender"
        [enableUserStatus]="false"
        class="avatarStyle"
      ></cometchat-avatar>
    </div>
    <div class="messageDetailStyle">
      <!-- Name -->
      <div
        class="nameWrapperStyle"
        *ngIf="MessageDetails?.receiverType == 'group'"
      >
        <span class="nameStyle">
          {{ MessageDetails?.sender?.name }}
        </span>
      </div>
      <div class="messageTxtContainerStyle">
        <div class="messageTxtWrapperStyle">
          <p class="pollQuestionStyle">{{ pollExtensionData?.question }}</p>
          <ul class="pollAnswerStyle">
            <!-- Options -->
            <li
              *ngFor="let option of pollOptions"
              (click)="answerPollQuestion(option)"
            >
              <div
                class="pollPercentStyle"
                [ngStyle]="{ width: option?.percent }"
              ></div>
              <div
                [ngClass]="{
                  answerWrapperStyle: !option?.selectedByLoggedInUser,
                  answerCheckedWrapperStyle: option?.selectedByLoggedInUser
                }"
              >
                <span> {{ option?.percent }}</span>
                <p>{{ option?.text }}</p>
              </div>
            </li>

            <!-- Options -->
          </ul>
          <p
            class="pollTotalStyle"
            *ngIf="pollExtensionData?.results?.total === 1"
          >
            {{ pollExtensionData?.results?.total }} vote
          </p>
          <p
            class="pollTotalStyle"
            *ngIf="pollExtensionData?.results?.total !== 1"
          >
            {{ pollExtensionData?.results?.total }} votes
          </p>
        </div>
      </div>
      <cometchat-regular-reaction-view
        *ngIf="checkReaction"
        [MessageDetails]="MessageDetails"
        [loggedInUser]="loggedInUser"
        (actionGenerated)="actionHandler($event)"
      ></cometchat-regular-reaction-view>
      <div class="messageInfoWrapperStyle">
        <cometchat-read-reciept
          [MessageDetails]="MessageDetails"
          [displayReadReciept]="false"
        ></cometchat-read-reciept>
        <!--ReplyCount-->
        <cometchat-reply-count
          *ngIf="showReplyCount"
          [MessageDetails]="MessageDetails"
          (actionGenerated)="actionHandler($event)"
        >
        </cometchat-reply-count>
      </div>
    </div>
  </div>
</div>
