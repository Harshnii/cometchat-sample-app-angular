/**
 * @fileoverview added by tsickle
 * Generated from: components/Messages/CometChat-action-message-bubble/cometchat-action-message-bubble/cometchat-action-message-bubble.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input } from "@angular/core";
import { CometChat } from "@cometchat-pro/chat";
import { COMETCHAT_CONSTANTS } from "../../../../utils/messageConstants";
import * as enums from "../../../../utils/enums";
import { logger } from "../../../../utils/common";
export class CometChatActionMessageBubbleComponent {
    constructor() {
        this.messageDetails = null;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        try {
            this.getMessage();
        }
        catch (error) {
            logger(error);
        }
    }
    /**
     * Sets the Call Messages
     * @return {?}
     */
    getMessage() {
        try {
            /** @type {?} */
            const call = this.messageDetails;
            switch (call.status) {
                case CometChat.CALL_STATUS.INITIATED: {
                    this.message = COMETCHAT_CONSTANTS.CALL_INITIATED;
                    if (call.type === CometChat.CALL_TYPE.AUDIO) {
                        if (call.receiverType === CometChat.RECEIVER_TYPE.USER) {
                            this.message =
                                call.callInitiator.uid === this.loggedInUserUid
                                    ? COMETCHAT_CONSTANTS.OUTGOING_AUDIO_CALL
                                    : COMETCHAT_CONSTANTS.INCOMING_AUDIO_CALL;
                        }
                        else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {
                            if (call.action === CometChat.CALL_STATUS.INITIATED) {
                                this.message =
                                    call.callInitiator.uid === this.loggedInUserUid
                                        ? COMETCHAT_CONSTANTS.OUTGOING_AUDIO_CALL
                                        : COMETCHAT_CONSTANTS.INCOMING_AUDIO_CALL;
                            }
                            else if (call.action === CometChat.CALL_STATUS.REJECTED) {
                                this.message =
                                    call.sender.uid === this.loggedInUserUid
                                        ? COMETCHAT_CONSTANTS.CALL_REJECTED
                                        : `${call.sender.name} ` +
                                            COMETCHAT_CONSTANTS.REJECTED_CALL;
                            }
                        }
                    }
                    else if (call.type === CometChat.CALL_TYPE.VIDEO) {
                        if (call.receiverType === CometChat.RECEIVER_TYPE.USER) {
                            this.message =
                                call.callInitiator.uid === this.loggedInUserUid
                                    ? COMETCHAT_CONSTANTS.OUTGOING_VIDEO_CALL
                                    : COMETCHAT_CONSTANTS.INCOMING_VIDEO_CALL;
                        }
                        else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {
                            if (call.action === CometChat.CALL_STATUS.INITIATED) {
                                this.message =
                                    call.callInitiator.uid === this.loggedInUserUid
                                        ? COMETCHAT_CONSTANTS.OUTGOING_VIDEO_CALL
                                        : COMETCHAT_CONSTANTS.INCOMING_VIDEO_CALL;
                            }
                            else if (call.action === CometChat.CALL_STATUS.REJECTED) {
                                this.message =
                                    call.sender.uid === this.loggedInUserUid
                                        ? COMETCHAT_CONSTANTS.CALL_REJECTED
                                        : `${call.sender.name} ` +
                                            COMETCHAT_CONSTANTS.REJECTED_CALL;
                            }
                        }
                    }
                    break;
                }
                case CometChat.CALL_STATUS.ONGOING: {
                    if (call.receiverType === CometChat.RECEIVER_TYPE.USER) {
                        this.message = COMETCHAT_CONSTANTS.CALL_ACCEPTED;
                    }
                    else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {
                        if (call.action === CometChat.CALL_STATUS.ONGOING) {
                            this.message =
                                call.sender.uid === this.loggedInUserUid
                                    ? COMETCHAT_CONSTANTS.CALL_ACCEPTED
                                    : `${call.sender.name} ` + COMETCHAT_CONSTANTS.JOINED;
                        }
                        else if (call.action === CometChat.CALL_STATUS.REJECTED) {
                            this.message =
                                call.sender.uid === this.loggedInUserUid
                                    ? COMETCHAT_CONSTANTS.CALL_REJECTED
                                    : `${call.sender.name} ` + COMETCHAT_CONSTANTS.REJECTED_CALL;
                        }
                        else if (call.action === enums.LEFT) {
                            this.message =
                                call.sender.uid === this.loggedInUserUid
                                    ? COMETCHAT_CONSTANTS.YOU +
                                        " " +
                                        COMETCHAT_CONSTANTS.LEFT_THE_CALL
                                    : `${call.sender.name} ` + COMETCHAT_CONSTANTS.LEFT_THE_CALL;
                        }
                    }
                    break;
                }
                case CometChat.CALL_STATUS.UNANSWERED: {
                    this.message = COMETCHAT_CONSTANTS.CALL_UNANSWERED;
                    if (call.type === CometChat.CALL_TYPE.AUDIO &&
                        (call.receiverType === CometChat.RECEIVER_TYPE.USER ||
                            call.receiverType === CometChat.RECEIVER_TYPE.GROUP)) {
                        this.message =
                            call.callInitiator.uid === this.loggedInUserUid
                                ? COMETCHAT_CONSTANTS.UNANSWERED_AUDIO_CALL
                                : COMETCHAT_CONSTANTS.MISSED_AUDIO_CALL;
                    }
                    else if (call.type === CometChat.CALL_TYPE.VIDEO &&
                        (call.receiverType === CometChat.RECEIVER_TYPE.USER ||
                            call.receiverType === CometChat.RECEIVER_TYPE.GROUP)) {
                        this.message =
                            call.callInitiator.uid === this.loggedInUserUid
                                ? COMETCHAT_CONSTANTS.UNANSWERED_VIDEO_CALL
                                : COMETCHAT_CONSTANTS.MISSED_VIDEO_CALL;
                    }
                    break;
                }
                case CometChat.CALL_STATUS.REJECTED: {
                    this.message = COMETCHAT_CONSTANTS.CALL_REJECTED;
                    break;
                }
                case CometChat.CALL_STATUS.ENDED:
                    this.message = COMETCHAT_CONSTANTS.CALL_ENDED;
                    break;
                case CometChat.CALL_STATUS.CANCELLED:
                    this.message = COMETCHAT_CONSTANTS.CALL_CANCELLED;
                    break;
                case CometChat.CALL_STATUS.BUSY:
                    this.message = COMETCHAT_CONSTANTS.CALL_BUSY;
                    break;
                default:
                    break;
            }
        }
        catch (error) {
            logger(error);
        }
    }
}
CometChatActionMessageBubbleComponent.decorators = [
    { type: Component, args: [{
                selector: "cometchat-action-message-bubble",
                template: "<div class=\"callMessageStyle\">\n  <p class=\"callMessageTxtStyle\">\n    {{ message }}\n  </p>\n</div>\n",
                styles: [".callMessageStyle{padding:8px 12px;margin-bottom:16px;text-align:center}.callMessageTxtStyle{font-size:13px;font-weight:500;margin:0}"]
            }] }
];
/** @nocollapse */
CometChatActionMessageBubbleComponent.ctorParameters = () => [];
CometChatActionMessageBubbleComponent.propDecorators = {
    messageDetails: [{ type: Input }],
    loggedInUserUid: [{ type: Input }]
};
if (false) {
    /** @type {?} */
    CometChatActionMessageBubbleComponent.prototype.messageDetails;
    /** @type {?} */
    CometChatActionMessageBubbleComponent.prototype.loggedInUserUid;
    /** @type {?} */
    CometChatActionMessageBubbleComponent.prototype.message;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tZXRjaGF0LWFjdGlvbi1tZXNzYWdlLWJ1YmJsZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9hbmd1bGFyLWNoYXQtdWkta2l0LyIsInNvdXJjZXMiOlsiY29tcG9uZW50cy9NZXNzYWdlcy9Db21ldENoYXQtYWN0aW9uLW1lc3NhZ2UtYnViYmxlL2NvbWV0Y2hhdC1hY3Rpb24tbWVzc2FnZS1idWJibGUvY29tZXRjaGF0LWFjdGlvbi1tZXNzYWdlLWJ1YmJsZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUN6RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDaEQsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sb0NBQW9DLENBQUM7QUFDekUsT0FBTyxLQUFLLEtBQUssTUFBTSx5QkFBeUIsQ0FBQztBQUNqRCxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFPbEQsTUFBTSxPQUFPLHFDQUFxQztJQUloRDtRQUhTLG1CQUFjLEdBQUcsSUFBSSxDQUFDO0lBR2hCLENBQUM7Ozs7SUFFaEIsUUFBUTtRQUNOLElBQUk7WUFDRixJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7U0FDbkI7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNkLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNmO0lBQ0gsQ0FBQzs7Ozs7SUFLRCxVQUFVO1FBQ1IsSUFBSTs7a0JBQ0ksSUFBSSxHQUFHLElBQUksQ0FBQyxjQUFjO1lBQ2hDLFFBQVEsSUFBSSxDQUFDLE1BQU0sRUFBRTtnQkFDbkIsS0FBSyxTQUFTLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO29CQUNwQyxJQUFJLENBQUMsT0FBTyxHQUFHLG1CQUFtQixDQUFDLGNBQWMsQ0FBQztvQkFDbEQsSUFBSSxJQUFJLENBQUMsSUFBSSxL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QUMsS0FBSztvQkFDOUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxtQkFBbUIsQ0FBQyxVQUFVLENBQUM7b0JBQzlDLE1BQU07Z0JBQ1IsS0FBSyxTQUFTLENBQUMsV0FBVyxDQUFDLFNBQVM7b0JBQ2xDLElBQUksQ0FBQyxPQUFPLEdBQUcsbUJBQW1CLENBQUMsY0FBYyxDQUFDO29CQUNsRCxNQUFNO2dCQUNSLEtBQUssU0FBUyxDQUFDLFdBQVcsQ0FBQyxJQUFJO29CQUM3QixJQUFJLENBQUMsT0FBTyxHQUFHLG1CQUFtQixDQUFDLFNBQVMsQ0FBQztvQkFDN0MsTUFBTTtnQkFDUjtvQkFDRSxNQUFNO2FBQ1Q7U0FDRjtRQUFDLE9BQU8sS0FBSyxFQUFFO1lBQ2QsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ2Y7SUFDSCxDQUFDOzs7WUEzSUYsU0FBUyxTQUFDO2dCQUNULFFBQVEsRUFBRSxpQ0FBaUM7Z0JBQzNDLHNIQUErRDs7YUFFaEU7Ozs7OzZCQUVFLEtBQUs7OEJBQ0wsS0FBSzs7OztJQUROLCtEQUErQjs7SUFDL0IsZ0VBQXlCOztJQUN6Qix3REFBUSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE9uSW5pdCB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBDb21ldENoYXQgfSBmcm9tIFwiQGNvbWV0Y2hhdC1wcm8vY2hhdFwiO1xuaW1wb3J0IHsgQ09NRVRDSEFUX0NPTlNUQU5UUyB9IGZyb20gXCIuLi8uLi8uLi8uLi91dGlscy9tZXNzYWdlQ29uc3RhbnRzXCI7XG5pbXBvcnQgKiBhcyBlbnVtcyBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvZW51bXNcIjtcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gXCIuLi8uLi8uLi8uLi91dGlscy9jb21tb25cIjtcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiBcImNvbWV0Y2hhdC1hY3Rpb24tbWVzc2FnZS1idWJibGVcIixcbiAgdGVtcGxhdGVVcmw6IFwiLi9jb21ldGNoYXQtYWN0aW9uLW1lc3NhZ2UtYnViYmxlLmNvbXBvbmVudC5odG1sXCIsXG4gIHN0eWxlVXJsczogW1wiLi9jb21ldGNoYXQtYWN0aW9uLW1lc3NhZ2UtYnViYmxlLmNvbXBvbmVudC5jc3NcIl0sXG59KVxuZXhwb3J0IGNsYXNzIENvbWV0Q2hhdEFjdGlvbk1lc3NhZ2VCdWJibGVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBASW5wdXQoKSBtZXNzYWdlRGV0YWlscyA9IG51bGw7XG4gIEBJbnB1dCgpIGxvZ2dlZEluVXNlclVpZDtcbiAgbWVzc2FnZTtcbiAgY29uc3RydWN0b3IoKSB7fVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmdldE1lc3NhZ2UoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyKGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgQ2FsbCBNZXNzYWdlc1xuICAgKi9cbiAgZ2V0TWVzc2FnZSgpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2FsbCA9IHRoaXMubWVzc2FnZURldGFpbHM7XG4gICAgICBzd2l0Y2ggKGNhbGwuc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgQ29tZXRDaGF0LkNBTExfU1RBVFVTLklOSVRJQVRFRDoge1xuICAgICAgICAgIHRoaXMubWVzc2FnZSA9IENPTUVUQ0hBVF9DT05TVEFOVFMuQ0FMTF9JTklUSUFURUQ7XG4gICAgICAgICAgaWYgKGNhbGwudHlwZSA9PT0gQ29tZXRDaGF0LkNBTExfVFlQRS5BVURJTykge1xuICAgICAgICAgICAgaWYgKGNhbGwucmVjZWl2ZXJUeXBlID09PSBDb21ldENoYXQuUkVDRUlWRVJfVFlQRS5VU0VSKSB7XG4gICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgY2FsbC5jYWxsSW5pdGlhdG9yLnVpZCA9PT0gdGhpcy5sb2dnZWRJblVzZXJVaWRcbiAgICAgICAgICAgICAgICAgID8gQ09NRVRDSEFUX0NPTlNUQU5UUy5PVVRHT0lOR19BVURJT19DQUxMXG4gICAgICAgICAgICAgICAgICA6IENPTUVUQ0hBVF9DT05TVEFOVFMuSU5DT01JTkdfQVVESU9fQ0FMTDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FsbC5yZWNlaXZlclR5cGUgPT09IENvbWV0Q2hhdC5SRUNFSVZFUl9UWVBFLkdST1VQKSB7XG4gICAgICAgICAgICAgIGlmIChjYWxsLmFjdGlvbiA9PT0gQ29tZXRDaGF0LkNBTExfU1RBVFVTLklOSVRJQVRFRCkge1xuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgICBjYWxsLmNhbGxJbml0aWF0b3IudWlkID09PSB0aGlzLmxvZ2dlZEluVXNlclVpZFxuICAgICAgICAgICAgICAgICAgICA/IENPTUVUQ0hBVF9DT05TVEFOVFMuT1VUR09JTkdfQVVESU9fQ0FMTFxuICAgICAgICAgICAgICAgICAgICA6IENPTUVUQ0hBVF9DT05TVEFOVFMuSU5DT01JTkdfQVVESU9fQ0FMTDtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChjYWxsLmFjdGlvbiA9PT0gQ29tZXRDaGF0LkNBTExfU1RBVFVTLlJFSkVDVEVEKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID1cbiAgICAgICAgICAgICAgICAgIGNhbGwuc2VuZGVyLnVpZCA9PT0gdGhpcy5sb2dnZWRJblVzZXJVaWRcbiAgICAgICAgICAgICAgICAgICAgPyBDT01FVENIQVRfQ09OU1RBTlRTLkNBTExfUkVKRUNURURcbiAgICAgICAgICAgICAgICAgICAgOiBgJHtjYWxsLnNlbmRlci5uYW1lfSBgICtcbiAgICAgICAgICAgICAgICAgICAgICBDT01FVENIQVRfQ09OU1RBTlRTLlJFSkVDVEVEX0NBTEw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGNhbGwudHlwZSA9PT0gQ29tZXRDaGF0LkNBTExfVFlQRS5WSURFTykge1xuICAgICAgICAgICAgaWYgKGNhbGwucmVjZWl2ZXJUeXBlID09PSBDb21ldENoYXQuUkVDRUlWRVJfVFlQRS5VU0VSKSB7XG4gICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgY2FsbC5jYWxsSW5pdGlhdG9yLnVpZCA9PT0gdGhpcy5sb2dnZWRJblVzZXJVaWRcbiAgICAgICAgICAgICAgICAgID8gQ09NRVRDSEFUX0NPTlNUQU5UUy5PVVRHT0lOR19WSURFT19DQUxMXG4gICAgICAgICAgICAgICAgICA6IENPTUVUQ0hBVF9DT05TVEFOVFMuSU5DT01JTkdfVklERU9fQ0FMTDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FsbC5yZWNlaXZlclR5cGUgPT09IENvbWV0Q2hhdC5SRUNFSVZFUl9UWVBFLkdST1VQKSB7XG4gICAgICAgICAgICAgIGlmIChjYWxsLmFjdGlvbiA9PT0gQ29tZXRDaGF0LkNBTExfU1RBVFVTLklOSVRJQVRFRCkge1xuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgICBjYWxsLmNhbGxJbml0aWF0b3IudWlkID09PSB0aGlzLmxvZ2dlZEluVXNlclVpZFxuICAgICAgICAgICAgICAgICAgICA/IENPTUVUQ0hBVF9DT05TVEFOVFMuT1VUR09JTkdfVklERU9fQ0FMTFxuICAgICAgICAgICAgICAgICAgICA6IENPTUVUQ0hBVF9DT05TVEFOVFMuSU5DT01JTkdfVklERU9fQ0FMTDtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChjYWxsLmFjdGlvbiA9PT0gQ29tZXRDaGF0LkNBTExfU1RBVFVTLlJFSkVDVEVEKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID1cbiAgICAgICAgICAgICAgICAgIGNhbGwuc2VuZGVyLnVpZCA9PT0gdGhpcy5sb2dnZWRJblVzZXJVaWRcbiAgICAgICAgICAgICAgICAgICAgPyBDT01FVENIQVRfQ09OU1RBTlRTLkNBTExfUkVKRUNURURcbiAgICAgICAgICAgICAgICAgICAgOiBgJHtjYWxsLnNlbmRlci5uYW1lfSBgICtcbiAgICAgICAgICAgICAgICAgICAgICBDT01FVENIQVRfQ09OU1RBTlRTLlJFSkVDVEVEX0NBTEw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBDb21ldENoYXQuQ0FMTF9TVEFUVVMuT05HT0lORzoge1xuICAgICAgICAgIGlmIChjYWxsLnJlY2VpdmVyVHlwZSA9PT0gQ29tZXRDaGF0LlJFQ0VJVkVSX1RZUEUuVVNFUikge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gQ09NRVRDSEFUX0NPTlNUQU5UUy5DQUxMX0FDQ0VQVEVEO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY2FsbC5yZWNlaXZlclR5cGUgPT09IENvbWV0Q2hhdC5SRUNFSVZFUl9UWVBFLkdST1VQKSB7XG4gICAgICAgICAgICBpZiAoY2FsbC5hY3Rpb24gPT09IENvbWV0Q2hhdC5DQUxMX1NUQVRVUy5PTkdPSU5HKSB7XG4gICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgY2FsbC5zZW5kZXIudWlkID09PSB0aGlzLmxvZ2dlZEluVXNlclVpZFxuICAgICAgICAgICAgICAgICAgPyBDT01FVENIQVRfQ09OU1RBTlRTLkNBTExfQUNDRVBURURcbiAgICAgICAgICAgICAgICAgIDogYCR7Y2FsbC5zZW5kZXIubmFtZX0gYCArIENPTUVUQ0hBVF9DT05TVEFOVFMuSk9JTkVEO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjYWxsLmFjdGlvbiA9PT0gQ29tZXRDaGF0LkNBTExfU1RBVFVTLlJFSkVDVEVEKSB7XG4gICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgY2FsbC5zZW5kZXIudWlkID09PSB0aGlzLmxvZ2dlZEluVXNlclVpZFxuICAgICAgICAgICAgICAgICAgPyBDT01FVENIQVRfQ09OU1RBTlRTLkNBTExfUkVKRUNURURcbiAgICAgICAgICAgICAgICAgIDogYCR7Y2FsbC5zZW5kZXIubmFtZX0gYCArIENPTUVUQ0hBVF9DT05TVEFOVFMuUkVKRUNURURfQ0FMTDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FsbC5hY3Rpb24gPT09IGVudW1zLkxFRlQpIHtcbiAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID1cbiAgICAgICAgICAgICAgICBjYWxsLnNlbmRlci51aWQgPT09IHRoaXMubG9nZ2VkSW5Vc2VyVWlkXG4gICAgICAgICAgICAgICAgICA/IENPTUVUQ0hBVF9DT05TVEFOVFMuWU9VICtcbiAgICAgICAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICAgICAgICBDT01FVENIQVRfQ09OU1RBTlRTLkxFRlRfVEhFX0NBTExcbiAgICAgICAgICAgICAgICAgIDogYCR7Y2FsbC5zZW5kZXIubmFtZX0gYCArIENPTUVUQ0hBVF9DT05TVEFOVFMuTEVGVF9USEVfQ0FMTDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIENvbWV0Q2hhdC5DQUxMX1NUQVRVUy5VTkFOU1dFUkVEOiB7XG4gICAgICAgICAgdGhpcy5tZXNzYWdlID0gQ09NRVRDSEFUX0NPTlNUQU5UUy5DQUxMX1VOQU5TV0VSRUQ7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY2FsbC50eXBlID09PSBDb21ldENoYXQuQ0FMTF9UWVBFLkFVRElPICYmXG4gICAgICAgICAgICAoY2FsbC5yZWNlaXZlclR5cGUgPT09IENvbWV0Q2hhdC5SRUNFSVZFUl9UWVBFLlVTRVIgfHxcbiAgICAgICAgICAgICAgY2FsbC5yZWNlaXZlclR5cGUgPT09IENvbWV0Q2hhdC5SRUNFSVZFUl9UWVBFLkdST1VQKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID1cbiAgICAgICAgICAgICAgY2FsbC5jYWxsSW5pdGlhdG9yLnVpZCA9PT0gdGhpcy5sb2dnZWRJblVzZXJVaWRcbiAgICAgICAgICAgICAgICA/IENPTUVUQ0hBVF9DT05TVEFOVFMuVU5BTlNXRVJFRF9BVURJT19DQUxMXG4gICAgICAgICAgICAgICAgOiBDT01FVENIQVRfQ09OU1RBTlRTLk1JU1NFRF9BVURJT19DQUxMO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBjYWxsLnR5cGUgPT09IENvbWV0Q2hhdC5DQUxMX1RZUEUuVklERU8gJiZcbiAgICAgICAgICAgIChjYWxsLnJlY2VpdmVyVHlwZSA9PT0gQ29tZXRDaGF0LlJFQ0VJVkVSX1RZUEUuVVNFUiB8fFxuICAgICAgICAgICAgICBjYWxsLnJlY2VpdmVyVHlwZSA9PT0gQ29tZXRDaGF0LlJFQ0VJVkVSX1RZUEUuR1JPVVApXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPVxuICAgICAgICAgICAgICBjYWxsLmNhbGxJbml0aWF0b3IudWlkID09PSB0aGlzLmxvZ2dlZEluVXNlclVpZFxuICAgICAgICAgICAgICAgID8gQ09NRVRDSEFUX0NPTlNUQU5UUy5VTkFOU1dFUkVEX1ZJREVPX0NBTExcbiAgICAgICAgICAgICAgICA6IENPTUVUQ0hBVF9DT05TVEFOVFMuTUlTU0VEX1ZJREVPX0NBTEw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQ29tZXRDaGF0LkNBTExfU1RBVFVTLlJFSkVDVEVEOiB7XG4gICAgICAgICAgdGhpcy5tZXNzYWdlID0gQ09NRVRDSEFUX0NPTlNUQU5UUy5DQUxMX1JFSkVDVEVEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQ29tZXRDaGF0LkNBTExfU1RBVFVTLkVOREVEOlxuICAgICAgICAgIHRoaXMubWVzc2FnZSA9IENPTUVUQ0hBVF9DT05TVEFOVFMuQ0FMTF9FTkRFRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDb21ldENoYXQuQ0FMTF9TVEFUVVMuQ0FOQ0VMTEVEOlxuICAgICAgICAgIHRoaXMubWVzc2FnZSA9IENPTUVUQ0hBVF9DT05TVEFOVFMuQ0FMTF9DQU5DRUxMRUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ29tZXRDaGF0LkNBTExfU1RBVFVTLkJVU1k6XG4gICAgICAgICAgdGhpcy5tZXNzYWdlID0gQ09NRVRDSEFUX0NPTlNUQU5UUy5DQUxMX0JVU1k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlcihlcnJvcik7XG4gICAgfVxuICB9XG59XG4iXX0=